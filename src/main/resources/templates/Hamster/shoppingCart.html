<!-- 이 코드를 복붙해서 사용해주세요 -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<head th:replace="~{common/head-top :: head-top-fragment}"><title>감자팀</title></head>
<style>
    .top-right-image {
        position: absolute;
        top: 0;
        right: 0;
        margin: 10px;
        cursor: pointer;

    }
</style>
<body>
<div th:replace="~{common/head :: head-fragment}"></div>
<!-- [E]tedu-N3 -->
<main class="th-layout-main ">
    <!-- [S]tedu-N47 -->
    <form method="post" action="/member/hamster/airplane/ticketing">
    <div class="tedu-N47" data-bid="RSlXeE3jI3" id="">
        <div class="content-inner">
            <div class="content-container">
                <section class="myedu-wrap">
                    <div class="title-wrap">
                        <h3 class="cont-title">장바구니​<br></h3>
                    </div>
                    <div class="tab-menu-wrap">
                        <div class="tab-menu active" id="all-btn">
                            <a href="javascript:void(0)">
                                <span>전체 목록</span>
                            </a>
                        </div>
                        <div class="tab-menu" id="air-btn">
                            <a href="javascript:void(0)">
                                <span>항공권</span>
                            </a>
                        </div>
                        <div class="tab-menu" id="hotel-btn">
                            <a href="javascript:void(0)">
                                <span>숙소</span>
                            </a>
                        </div>
                    </div>

                    <div class="myedu-cont-wrap" id="airList">
                    <th:block th:if="${airInfo != null}" th:each="airInfo, iterStat : ${airInfo}">
                        <div class="myedu-area" style="position: relative; border: 1px solid lightgray;" th:if="${airInfo.getOrigin() != null}">
                            <div class="myedu-cont">
                                <img th:src="${DepDur.get(iterStat.index).getAirlineImg()}" style="width: 150px;" alt="이미지">
                                <div class="text-area">
                                    <input type="hidden" th:value="${airInfo.getFfvId()}" th:id="'airKey_'+${iterStat.index}">
                                    <legend class="legend" th:text="${segDep.get(iterStat.index).getAirlineKor()}"></legend>
                                    <legend class="legend airKey" th:id="'airKey_'+${iterStat.index}" th:text="${segDep.get(iterStat.index).getDepartureIata()}+ ' -> ' +${segDep.get(iterStat.index).getArrivalIata()}"></legend>
                                    <legend class="legend" th:text="${segDep.get(iterStat.index).getDepartureAt().substring(0,10)} +' ~ '+${segComb.get(iterStat.index).getArrivalAt().substring(6,10)}"></legend>
                                    <legend class="legend" th:text="${#numbers.formatInteger(airInfo.getTotalPrice(), 3, 'COMMA') + '원'}"></legend>
                                </div>
                            </div>
                            <button type="button" class="tedu-btn tedu-btn-light" style="width: 150px;">
                                <span>결제하기</span>
                            </button>
                                <img th:src="@{/common/images/xButton.png}" class="top-right-image" style="height: 40px; width: 40px;"
                                     th:onclick="'deleteAir(' + ${iterStat.index} + ')'">
                        </div>
                    </th:block>
                    </div>

                    <div>&nbsp;&nbsp;</div>

                    <div class="myedu-cont-wrap" id="hotelList">
                        <th:block th:if="${hotelList != null}" th:each="hotel, iterStat : ${hotelList}">
                            <div class="myedu-area" style="position: relative; border: 1px solid lightgray;" th:if="${hotelList.get(iterStat.index).getUuid() != null}">
                                <div class="myedu-cont" style="width: 507px; height: 124px;">
                                    <img th:src="${hotelList.get(iterStat.index).getHotelObj().getSampleImage()}" style="width: 150px; height: 120px;" alt="이미지">
                                    <div class="text-area">
                                        <input type="hidden" th:value="${hotelList.get(iterStat.index).getUuid()}" th:id="'hotelKey_'+${iterStat.index}">
                                        <legend class="legend" th:text="${hotelList.get(iterStat.index).getHotelObj().getHotelName()}"></legend>
                                        <legend class="legend" th:text="'('+${hotelList.get(iterStat.index).getIataCodeObj().getCountryKo()}+')'+ ${hotelList.get(iterStat.index).getIataCodeObj().getCityKo()}"></legend>
                                        <legend class="legend hotelKey" th:id="'hotelKey_'+${iterStat.index}"
                                                 th:text="${hotelList.get(iterStat.index).getOfferObj().getCheckIn()}+ ' ~ ' +${hotelList.get(iterStat.index).getOfferObj().getCheckOut()}"></legend>
                                    </div>
                                </div>
                                <button type="button" class="tedu-btn tedu-btn-light" style="width: 150px;">
                                    <span>결제하기</span>
                                </button>
                                <img th:src="@{/common/images/xButton.png}" class="top-right-image" style="height: 40px; width: 40px;"
                                     th:onclick="'deleteHotel(' + ${iterStat.index} + ')'">
                            </div>
                        </th:block>
                    </div>

                </section>
                </div>
            </div>
        </div>
    </div>
    <!-- [E]tedu-N47 -->
    </form>
</main>
<script type="text/javascript" th:src="@{/ham.js/DeleteButton.js}"></script>
<div class="tedu-N17" data-bid="fjlxiC75U0">
    <th:block th:replace="~{common/footer :: footer-fragment}"></th:block>
</div>
<th:block th:replace="~{common/footer-down :: footer-js-fragment}"></th:block>
<script>
    $(document).ready(function () {

        let $hotelList = $('#hotelList');
        let $airList = $('#airList');

        function hideAllSections(callback) {
            $airList.fadeOut('slow');
            $hotelList.fadeOut('slow', callback);
        }

        function showAllList() {
            hideAllSections(function() {
                $hotelList.fadeIn('slow');
                $airList.fadeIn('slow');
            });
        }

        function showAirList() {
            hideAllSections(function() {
                $airList.fadeIn('slow');
            });
        }

        function showHotelList() {
            hideAllSections(function() {
                $hotelList.fadeIn('slow');
            });
        }


        $('#all-btn').click(function () {
            showAllList();
        });

        $('#air-btn').click(function () {
            showAirList();
        });

        $('#hotel-btn').click(function () {
            showHotelList();
        });

    });
</script>
</body>